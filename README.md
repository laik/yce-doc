# 主题: 企业云原生实践

摘要:
在开发运营人员的角度如何上线一个可靠的高可用往往需要配合运维支撑人员的基础资源的设计,半自动化运维?,更新? ...

## 1. Tekton 流水线的持续交付

### 背景
我们通常的开发流程是在本地开发完成应用之后，使用git或svn作为版本管理工具，将本地代码提交到类似版本管理仓库中做源代码持久化存储; 然而来自多个仓库涉及到多个中间件作为底层依赖一起部署到生产环境中时，大部份公司内部通常会有持继集成流程; 早期使用Jenkins工具链完成当下持续集成的工作流程,解决上层devops流程中的必要环节,但使用jenkins由master-slave的架构加之使用jvm运行及其内部使用DSL(groovy)拓展,对于服务器资源使用率,拓展性都不太理想;

### 提出问题
那么如何解决可以快速拓展及拥有强大调度能力框架及架构可以支持千量级并发持续集成的方案? 答案是肯定的，而且不乏竞争者，业内知名的有knavtieBuild/Jenkins/JenkinsX/Spinnaker/ArgoCD/Tekton，其中tekon凭借其众多优良特性在一众竞争者中胜出，成为领域内的事实标准, 我们公司在实践云原生的道路上的第一站,基于Tekton框架的高阶实现;

### 如何解决
...

### 其他(延伸点)
...

## 2. 自定义CRD增强部署管理

### 背景

当前我们在持续集成后的应用采用2种部署在物理机或者vm上(后统称node),docker化部署及传统裸机/vm(supervisor管理)部署在这些node上; 在运维人员的角度考虑如何做到高可用,负载均衡等基础资源架构; 需要借助大量的第三方工具链实现拓展; 其次这种组织在node架构上运行应用程序。对于运行node架构中的应用对于运维人员角度来看,比较难定义资源边界，这会导致资源分配问题。例如在node原本的基础上运行多个应用程序，则可能会出现一个应用程序占用大部分资源的情况，结果可能导致其他应用程序的性能下降。一种解决方案是在不同的node上运行每个应用程序，但是由于资源利用不足而无法扩展，管理的成本很高。

### 提出问题

我们如何在


### 如何解决

...

### 其他(延伸点)

...

## 3. 云原生下的运维管理(管理工具)

### 背景
通常我们一般在开发环境或者测试环境，遇到应用的网络不通，内存泄露，cpu飙升等，需要调试k8s里面的pod的业务容器，并且容器技术的一个最佳实践是构建尽可能精简的容器镜像。但这一实践却会给排查问题带来麻烦：精简后的容器中普遍缺失常用的排障工具，每次进去都需要（apt-get）去下载一些工具，给我们带来了极大的不便利性，甚至把基础镜像打的很大,导致在镜像不好传输等，为了让用户更方便的调试又精简容器的大小，我们需要在容器云推出一个很好的调试工具。

### 提出问题

那么针对上面的背景,我们需要这精简的容器并且又不需要安装其他命令的情况下，怎么去把这块的调试功能做好呢？

### 如何解决

在我们容器云平台里面，我们支持web-shell的功能,点击pod的时候，通过web-shell的方式进入容器里面,让用户针对它自己的业务容器排错，本身原理是非常简单的，如果理解了原理那么就能知道它是如何实现和如何使用的。

在讲这个运维工具之前，我们需要了解一下docker的基本原理，k8s是站在docker之上的，本质运行的还是docker，docker的本质是基于namespace隔离和cgroup资源限制，倘若，我们启动一个进程加入目标容器的namespace中，这样子





### 其他(延伸点)

...

## 4. 服务网格的实践

### 背景

...

### 提出问题

...

### 如何解决

...

### 其他(延伸点)

...
